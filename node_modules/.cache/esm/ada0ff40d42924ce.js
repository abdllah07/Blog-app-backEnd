let type,Schema,model;_d42‍.x([["default",()=>_d42‍.o]]);_d42‍.w("express/lib/response",[["type",["type"],function(v){type=v}]]);_d42‍.w("mongoose",[["Schema",["Schema"],function(v){Schema=v}],["model",["model"],function(v){model=v}]]);



// create Schema 
const CommentSchema = new Schema({
    user: { type: Schema.Types.ObjectID , required : true , ref : "User" },// foreign key s
    desc: { type : String , required : true , },
    post: { type : Schema.Types.ObjectID , required : true , ref : "Post" },// foreign key 
    check : { type : Boolean , default : false , },
    parent : { type : Schema.Types.ObjectID , default : null , ref : "Comment" ,},// foreign key 
    replayOnUser : {type : Schema.Types.ObjectId , ref : "User" , default : null },// foreign key 
},{timestamps : true , toJSON : {virtuals : true}});


// make relation between comment and comment 
CommentSchema.virtual('replies' , {
    ref : "Comment",
    localField : "_id",
    foreignField : "parent"
});




const Comment = model("Comment" , CommentSchema )

_d42‍.d(Comment);


